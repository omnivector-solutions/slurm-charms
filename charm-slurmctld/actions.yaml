show-current-config:
  description: >
    Display the currently used `slurm.conf`.

    Note: this file only exists in `slurmctld` charm and is automatically
    distributed to all compute nodes by Slurm.

    Example usage:
    $ juju run-action slurmctld/leader --format=json --wait | jq .[].results.slurm.conf | xargs -I % -0 python3 -c 'print(%)'
drain:
  description: >
    Drain specified nodes.

    Example usage:
    $ juju run-action slurmctld/leader drain nodename=node-[1,2] reason="Updating kernel"

    Note: to drain a partition, use the `state` configuration for the `slurmd`
    charm.
  params:
    nodename:
      type: string
      description: The nodes to drain, using the Slurm format, e.g. `node-[1,2]`.
    reason:
      type: string
      description: Reason to drain the nodes.
  required:
    - nodename
    - reason
resume:
  description: >
    Resume specified nodes.

    Note: newly added nodes will remain in the `down` state until configured,
    with the `node-configured` action.

    Example usage: $ juju run-action slurmctld/leader resume nodename=node-[1,2]
  params:
    nodename:
      type: string
      description: >
        The nodes to resume, using the Slurm format, e.g. `node-[1,2]`.
  required:
    - nodename
