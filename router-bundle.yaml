series: focal
applications:
  mysql:
    charm: mysql
    channel: edge
    revision: 86
    num_units: 3
  mysql-router:
    charm: mysql-router
    channel: 8.0/stable
    revision: 35
  slurmctld:
    charm: ./slurmctld.charm
    num_units: 1
    options:
      custom-config: |
        SlurmctldDebug=debug5
        SlurmdDebug=debug5
      proctrack-type: proctrack/linuxproc
  slurmd:
    charm: ./slurmd.charm
    num_units: 1
  slurmdbd:
    charm: ./slurmdbd.charm
    num_units: 1
  slurmrestd:
    charm: ./slurmrestd.charm
    num_units: 1
relations:
- - mysql-router:db-router
  - mysql:db-router
- - mysql-router:shared-db
  - slurmdbd:shared-db
- - slurmctld:slurmdbd
  - slurmdbd:slurmdbd
- - slurmctld:slurmd
  - slurmd:slurmd
- - slurmctld:slurmrestd
  - slurmrestd:slurmrestd
